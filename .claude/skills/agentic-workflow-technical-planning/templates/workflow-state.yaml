# Workflow State Template
# Tracks progress through technical-planning workflow
# Location: {output_path}/workflow-state.yaml

workflow: technical-planning
version: "1.0.0"

# Input
input_type: "" # prompt_user | file | github_issue | inline
input_source: null # path, URL, issue number, or null
input_classification: "" # prd | epic | user_story | informal

# Topic
topic: "" # kebab-case topic
instance_id: "" # YYYYMMDD-HHMMSS-XXXX
output_path: "" # .claude/_agentic_output/task/technical-planning/{topic}/{instance_id}

# Timing
started_at: "" # ISO timestamp
updated_at: "" # ISO timestamp
completed_at: null # ISO timestamp when done

# Progress
status: "pending" # pending | in_progress | completed | failed
current_step: 0
steps_completed: []
# Example:
#   - step: 1
#     name: "input-classification"
#     completed_at: "2024-01-15T10:00:00Z"
#   - step: 2
#     name: "architect-context"
#     completed_at: "2024-01-15T10:15:00Z"
#     output: ".../technical-context.md"

# Context confirmation loop
context_attempts: 0
context_confirmed: false

# Technical questioning
questions_asked: 0
structural_open_questions: 0
decisions_logged: 0

# Artifacts
artifacts:
  technical_context: null
  technical_decisions: null
  technical_plan: null
